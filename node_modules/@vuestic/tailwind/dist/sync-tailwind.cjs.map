{"version":3,"file":"sync-tailwind.cjs","sources":["../sync-tailwind.ts"],"sourcesContent":["import { convertValueToString, tailwindConfigPath } from './helpers/helpers'\nimport { tailwindThresholdsSync } from './modules/breakpoint'\nimport { tailwindColorsSync } from './modules/colors'\n\nconst fs = require('fs')\n\nconst vuesticConfigFilename = 'vuestic.config.js'\n\n/**\n * @description writes vuestic config to the file\n * @param config vuestic config in raw string format\n */\nconst updateVuesticConfig = (config?: string) => {\n  try {\n    const vuesticConfig = '// Do not insert custom values to the colors or breakpoints Vuestic UI config\\n' +\n      '// or they will be overwritten! Use Tailwind CSS config instead.' +\n      `\\n\\nexport const config = ${config ?? '{}'}`\n\n    fs.writeFileSync(vuesticConfigFilename, vuesticConfig)\n\n    console.log(`${vuesticConfigFilename} was successfully synchronized with Tailwind CSS config!`)\n  } catch (e) {\n    console.log(e)\n  }\n}\n\n/**\n * @description forming vuestic config from tailwind configuration (custom or default)\n */\nexport const integrateTailwindConfig = async () => {\n    if (!tailwindConfigPath) { console.log('Tailwind CSS config file not found. Proceeding with default Tailwind CSS settings.') }\n    const tailwindConfig = tailwindConfigPath ? await (() => import(tailwindConfigPath))() : undefined\n\n    const tailwindColors = tailwindColorsSync(tailwindConfig)\n    const tailwindThresholds = tailwindThresholdsSync(tailwindConfig)\n\n    const vuesticConfig = {\n      breakpoints: {\n        thresholds: tailwindThresholds,\n      },\n      colors: {\n        variables: tailwindColors,\n      },\n    }\n\n    updateVuesticConfig(convertValueToString(vuesticConfig))\n\n    tailwindConfigPath && delete require.cache[require.resolve(tailwindConfigPath)]\n  }\n\n;(async () => { await integrateTailwindConfig() })()\n"],"names":["fs","require","integrateTailwindConfig","async","tailwindConfigPath","console","log","tailwindConfig","__vitePreload","tailwindColors","tailwindColorsSync","vuesticConfig","breakpoints","thresholds","tailwindThresholdsSync","colors","variables","config","writeFileSync","e","convertValueToString","cache","resolve"],"mappings":"ugBAIA,MAAMA,EAAKC,QAAQ,MAyBNC,wBAA0BC,UAC9BC,EAAAA,oBAAsBC,QAAQC,IAAI,sFACjC,MAAAC,EAAiBH,EAAqBA,yBAAaI,EAAAA,kJAAgC,EAEnFC,EAAiBC,qBAAmBH,GAGpCI,EAAgB,CACpBC,YAAa,CACXC,WAJuBC,yBAAuBP,IAMhDQ,OAAQ,CACNC,UAAWP,IA7BS,CAACQ,IACvB,IACF,MAAMN,EAAgB,4KAEmB,MAAVM,EAAUA,EAAA,OAEtCjB,EAAAkB,cAZuB,oBAYcP,GAEhCN,QAAAC,IAAI,mFACLa,GACPd,QAAQC,IAAIa,KAuBQC,CAAAA,EAAAA,qBAAqBT,IAEzCP,EAAAA,2BAA6BH,QAAQoB,MAAMpB,QAAQqB,QAAQlB,EAAkBA,sBAGnE,iBAAQF,2BAAR"}