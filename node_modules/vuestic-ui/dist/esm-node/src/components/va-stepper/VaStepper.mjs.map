{"version":3,"file":"VaStepper.mjs","sources":["../../../../../src/components/va-stepper/VaStepper.vue"],"sourcesContent":["<template>\n  <div\n    class=\"va-stepper\"\n    :class=\"{ 'va-stepper--vertical': $props.vertical }\"\n  >\n    <ol\n      class=\"va-stepper__navigation\"\n      :class=\"{ 'va-stepper__navigation--vertical': $props.vertical }\"\n    >\n      <template\n        v-for=\"(step, i) in $props.steps\"\n        :key=\"i\"\n      >\n        <slot\n          v-if=\"i > 0\"\n          name=\"divider\"\n          v-bind=\"getIterableSlotData(step, i)\"\n        >\n          <span\n            class=\"va-stepper__divider\"\n            :class=\"{ 'va-stepper__divider--vertical': $props.vertical }\"\n          />\n        </slot>\n\n        <slot\n          :name=\"`step-button-${i}`\"\n          v-bind=\"getIterableSlotData(step, i)\"\n        >\n          <va-stepper-step-button\n            :stepIndex=\"i\"\n            :color=\"stepperColor\"\n            :modelValue=\"modelValue\"\n            :nextDisabled=\"nextDisabled\"\n            :step=\"step\"\n            :stepControls=\"stepControls\"\n            :navigationDisabled=\"navigationDisabled\"\n          />\n        </slot>\n      </template>\n    </ol>\n    <div\n      class=\"va-stepper__step-content-wrapper\"\n      :class=\"{ 'va-stepper__step-content-wrapper--vertical': $props.vertical }\"\n    >\n      <template\n        v-for=\"(step, i) in $props.steps\"\n        :key=\"i\"\n      >\n        <div\n          class=\"va-stepper__step-content\"\n          v-if=\"$slots[`step-content-${i}`] && modelValue === i\"\n        >\n          <slot\n            :name=\"`step-content-${i}`\"\n            v-bind=\"getIterableSlotData(step, i)\"\n          />\n        </div>\n      </template>\n      <div class=\"va-stepper__controls\">\n        <va-stepper-controls\n          v-if=\"!controlsHidden\"\n          :modelValue=\"modelValue\"\n          :nextDisabled=\"nextDisabled\"\n          :steps=\"steps\"\n          :stepControls=\"stepControls\"\n          @finish=\"$emit('finish')\"\n        />\n        <slot\n          name=\"controls\"\n          v-bind=\"stepControls\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, PropType, Ref } from 'vue'\nimport { useColors, useStateful, useStatefulProps } from '../../composables'\nimport type { Step, StepControls } from './types'\nimport VaStepperControls from './VaStepperControls.vue'\nimport VaStepperStepButton from './VaStepperStepButton.vue'\n\nexport default defineComponent({\n  name: 'VaStepper',\n  components: { VaStepperControls, VaStepperStepButton },\n  props: {\n    ...useStatefulProps,\n    modelValue: { type: Number, default: 0 },\n    steps: {\n      type: Array as PropType<Step[]>,\n      default: () => [],\n      required: true,\n    },\n    color: { type: String, default: 'primary' },\n    vertical: { type: Boolean, default: false },\n    navigationDisabled: { type: Boolean, default: false },\n    controlsHidden: { type: Boolean, default: false },\n    nextDisabled: { type: Boolean, default: false },\n    finishButtonHidden: { type: Boolean, default: false },\n  },\n  emits: ['update:modelValue', 'finish'],\n  setup (props, { emit }) {\n    const { valueComputed: modelValue }: { valueComputed: Ref<number> } = useStateful(props, emit, 'modelValue', { defaultValue: 0 })\n\n    const { getColor } = useColors()\n    const stepperColor = getColor(props.color)\n\n    const isNextStepDisabled = (index: number) => props.nextDisabled && index > modelValue.value\n\n    const setStep = (index: number) => {\n      if (props.steps[index].disabled) { return }\n      emit('update:modelValue', index)\n    }\n\n    const nextStep = (stepsToSkip = 0) => {\n      const targetIndex = modelValue.value + 1 + stepsToSkip\n\n      if (!props.steps[targetIndex]) { return }\n      if (props.steps[targetIndex].disabled) {\n        nextStep(stepsToSkip + 1)\n      }\n\n      setStep(targetIndex)\n    }\n\n    const prevStep = (stepsToSkip = 0) => {\n      const targetIndex = modelValue.value - 1 - stepsToSkip\n\n      if (!props.steps[targetIndex]) { return }\n      if (props.steps[targetIndex].disabled) {\n        prevStep(stepsToSkip + 1)\n      }\n\n      setStep(targetIndex)\n    }\n\n    const stepControls: StepControls = { setStep, nextStep, prevStep }\n    const getIterableSlotData = (step: Step, index: number) => ({\n      ...stepControls,\n      step,\n      isActive: props.modelValue === index,\n      isCompleted: props.modelValue > index,\n    })\n\n    return {\n      isNextStepDisabled,\n      stepperColor,\n      getColor,\n      stepControls,\n      getIterableSlotData,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n\n.va-stepper {\n  display: flex;\n  flex-direction: column;\n\n  &--vertical {\n    flex-direction: row;\n  }\n\n  &__navigation {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-wrap: wrap;\n\n    &--vertical {\n      flex-direction: column;\n      align-items: flex-start;\n      flex-wrap: nowrap;\n    }\n  }\n\n  &__divider {\n    flex-grow: 1;\n    height: var(--va-stepper-divider-thickness);\n    width: var(--va-stepper-divider-length);\n    min-width: var(--va-stepper-divider-min-length);\n    margin: 0 var(--va-stepper-divider-spacing);\n    background: var(--va-stepper-divider-color);\n\n    &--vertical {\n      min-height: var(--va-stepper-divider-min-length);\n      height: var(--va-stepper-divider-length);\n      width: var(--va-stepper-divider-thickness);\n      min-width: var(--va-stepper-divider-thickness);\n      margin: var(--va-stepper-divider-spacing) 0;\n      margin-left: var(--va-stepper-divider-vertical-margin-left);\n    }\n  }\n\n  &__step-content-wrapper {\n    padding: var(--va-stepper-step-content-wrapper-padding);\n  }\n\n  &__step-content {\n    margin: var(--va-stepper-step-content-margin);\n  }\n\n  &__controls {\n    display: flex;\n    gap: var(--va-stepper-controls-gap);\n  }\n}\n</style>\n"],"names":["_createElementBlock","_normalizeClass","_createElementVNode","_openBlock","_Fragment","_renderList","_renderSlot","_normalizeProps","_mergeProps","_guardReactiveProps","_createVNode","_createCommentVNode","_createBlock"],"mappings":"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"}