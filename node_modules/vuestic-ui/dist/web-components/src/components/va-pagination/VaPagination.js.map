{"version":3,"file":"VaPagination.js","sources":["../../../../../src/components/va-pagination/VaPagination.vue"],"sourcesContent":["<template>\n  <nav\n    v-if=\"showPagination\"\n    class=\"va-pagination\"\n    :aria-label=\"t('pagination')\"\n    :class=\"classComputed\"\n    @keydown.left.stop=\"goPrevPage\"\n    @keydown.right.stop=\"goNextPage\"\n    @keydown.up.stop=\"goPrevPage\"\n    @keydown.down.stop=\"goNextPage\"\n  >\n    <slot\n      v-if=\"showBoundaryLinks\" name=\"firstPageLink\"\n      v-bind=\"{ onClick: () => onUserInput(1), disabled: $props.disabled || currentValue === 1 }\"\n    >\n      <va-button\n        v-if=\"showBoundaryLinks\"\n        :aria-label=\"t('goToTheFirstPage')\"\n        :disabled=\"$props.disabled || currentValue === 1\"\n        :icon=\"$props.boundaryIconLeft\"\n        v-bind=\"buttonPropsComputed\"\n        @click=\"onUserInput(1)\"\n      />\n    </slot>\n    <slot\n      v-if=\"showDirectionLinks\" name=\"prevPageLink\"\n      v-bind=\"{ onClick: goPrevPage, disabled: $props.disabled || currentValue === 1 }\"\n    >\n      <va-button\n        v-if=\"showDirectionLinks\"\n        :aria-label=\"t('goToPreviousPage')\"\n        :disabled=\"$props.disabled || currentValue === 1\"\n        :icon=\"$props.directionIconLeft\"\n        v-bind=\"buttonPropsComputed\"\n        @click=\"goPrevPage\"\n      />\n    </slot>\n\n    <slot v-if=\"!$props.input\">\n      <va-button\n        v-for=\"(n, i) in paginationRange\" :key=\"i\"\n        :ref=\"setItemRefByIndex(i)\"\n        :class=\"{ 'va-button--ellipsis': n === '...', 'va-button--current': n === currentValue}\"\n        :aria-label=\"t(`goToSpecificPage`, { page: n })\"\n        :aria-current=\"n === currentValue\"\n        :disabled=\"$props.disabled || n === '...'\"\n        v-bind=\"getPageButtonProps(n)\"\n        @click=\"onUserInput(n)\"\n      >\n        {{ n }}\n      </va-button>\n    </slot>\n    <input\n      v-else\n      v-model=\"inputValue\"\n      ref=\"htmlInput\"\n      class=\"va-pagination__input va-button\"\n      :aria-label=\"t('goToSpecificPageInput')\"\n      :style=\"inputStyleComputed\"\n      :class=\"inputClassComputed\"\n      v-bind=\"inputAttributesComputed\"\n      @keydown.enter=\"changeValue\"\n      @focus=\"focusInput\"\n      @blur=\"changeValue\"\n    />\n\n    <slot\n      v-if=\"showDirectionLinks\" name=\"nextPageLink\"\n      v-bind=\"{ onClick: goNextPage, disabled: $props.disabled || currentValue === lastPage }\"\n    >\n      <va-button\n        v-if=\"showDirectionLinks\"\n        :aria-label=\"t('goNextPage')\"\n        :disabled=\"$props.disabled || currentValue === lastPage\"\n        :icon=\"$props.directionIconRight\"\n        v-bind=\"buttonPropsComputed\"\n        @click=\"goNextPage\"\n      />\n    </slot>\n    <slot\n      v-if=\"showBoundaryLinks\" name=\"lastPageLink\"\n      v-bind=\"{ onClick: () => onUserInput(lastPage), disabled: $props.disabled || currentValue === lastPage }\"\n    >\n      <va-button\n        v-if=\"showBoundaryLinks\"\n        :aria-label=\"t('goLastPage')\"\n        :disabled=\"$props.disabled || currentValue === lastPage\"\n        :icon=\"$props.boundaryIconRight\"\n        v-bind=\"buttonPropsComputed\"\n        @click=\"onUserInput(lastPage)\"\n      />\n    </slot>\n  </nav>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  PropType,\n  ref,\n  toRefs,\n  shallowRef,\n  computed,\n  watch,\n  nextTick,\n  WritableComputedRef,\n} from 'vue'\nimport clamp from 'lodash/clamp.js'\nimport pick from 'lodash/pick.js'\n\nimport { __DEV__ } from '../../utils/env'\nimport {\n  useBem,\n  useComponentPresetProp,\n  useColors,\n  useStateful, useStatefulProps, useStatefulEmits,\n  useArrayRefs,\n  useTranslation,\n} from '../../composables'\nimport { setPaginationRange } from './setPaginationRange'\n\nimport { VaButton } from '../va-button'\n\nexport default defineComponent({\n  name: 'VaPagination',\n  components: { VaButton },\n  emits: useStatefulEmits,\n  props: {\n    ...useStatefulProps,\n    ...useComponentPresetProp,\n    modelValue: { type: Number, default: 1 },\n    visiblePages: { type: Number, default: 0 },\n    pages: { type: Number, default: 0 },\n    disabled: { type: Boolean, default: false },\n    color: { type: String, default: 'primary' },\n    size: {\n      type: String as PropType<'small' | 'medium' | 'large'>,\n      default: 'medium',\n      validator: (v: string) => ['small', 'medium', 'large'].includes(v),\n    },\n    boundaryLinks: { type: Boolean, default: true },\n    boundaryNumbers: { type: Boolean, default: false },\n    directionLinks: { type: Boolean, default: true },\n    input: { type: Boolean, default: false },\n    hideOnSinglePage: { type: Boolean, default: false },\n    total: { type: Number, default: null },\n    pageSize: { type: Number, default: null },\n    boundaryIconLeft: { type: String, default: 'va-arrow-first' },\n    boundaryIconRight: { type: String, default: 'va-arrow-last' },\n    directionIconLeft: { type: String, default: 'va-arrow-left' },\n    directionIconRight: { type: String, default: 'va-arrow-right' },\n    gapped: { type: Boolean, default: false },\n    borderColor: { type: String, default: '' },\n    rounded: { type: Boolean, default: false },\n    activePageColor: { type: String, default: '' },\n    buttonsPreset: { type: String, default: 'primary' },\n  },\n\n  setup (props, { emit }) {\n    const htmlInput = shallowRef<HTMLInputElement>()\n\n    const inputValue = ref('')\n\n    const usesTotal = computed(() => !!((props.total || props.total === 0) && props.pageSize))\n\n    const { valueComputed }: { valueComputed: WritableComputedRef<number> } = useStateful(props, emit)\n\n    const currentValue = computed({\n      get: () => usesTotal.value ? Math.ceil(valueComputed.value / props.pageSize) || 1 : valueComputed.value,\n      set: (value) => { valueComputed.value = value },\n    })\n\n    const paginationRange = computed(() => {\n      const { visiblePages, total, pageSize, boundaryNumbers, pages } = props\n\n      const value = currentValue.value || 1\n      const totalPages = usesTotal.value ? Math.ceil(total / pageSize) : pages\n\n      return setPaginationRange(value, visiblePages, totalPages, boundaryNumbers)\n    })\n\n    const lastPage = computed(() => usesTotal.value ? Math.ceil(props.total / props.pageSize) || 1 : +props.pages)\n\n    const isLastPageNotVisible = computed(() => ((!!props.visiblePages && lastPage.value > props.visiblePages)) || props.input)\n\n    const showBoundaryLinks = computed(() => {\n      const { boundaryLinks, boundaryNumbers } = props\n\n      return isLastPageNotVisible.value && boundaryLinks && !boundaryNumbers\n    })\n\n    const showDirectionLinks = computed(() => isLastPageNotVisible.value && props.directionLinks)\n\n    const showPagination = computed(() => lastPage.value > 1 || (!props.hideOnSinglePage && lastPage.value <= 1))\n\n    const focusInput = () => {\n      inputValue.value = String(currentValue.value)\n\n      nextTick(() => htmlInput.value?.setSelectionRange(0, htmlInput.value.value.length))\n    }\n\n    const { setItemRefByIndex, itemRefs } = useArrayRefs()\n    const onUserInput = (pageNum: number | '...') => {\n      if (pageNum === '...' || pageNum === currentValue.value) { return }\n\n      const limitedPageNum = clamp(pageNum, 1, lastPage.value)\n      currentValue.value = usesTotal.value\n        ? (limitedPageNum - 1) * props.pageSize + 1\n        : limitedPageNum\n\n      itemRefs.value[pageNum - 1]?.focus()\n    }\n\n    const resetInput = () => {\n      inputValue.value = ''\n      htmlInput.value?.blur()\n    }\n\n    const changeValue = () => {\n      if (+inputValue.value === currentValue.value) {\n        resetInput()\n      }\n\n      if (!inputValue.value.length) { return }\n\n      let pageNum = Number.parseInt(inputValue.value)\n\n      switch (true) {\n        case pageNum < 1:\n          pageNum = 1; break\n        case pageNum > lastPage.value:\n          pageNum = lastPage.value; break\n        case isNaN(pageNum):\n          pageNum = currentValue.value; break\n        default: break\n      }\n\n      onUserInput(pageNum)\n      resetInput()\n    }\n\n    const { getColor, colorToRgba } = useColors()\n\n    const inputBorderColorComputed = computed(() => {\n      const { color, buttonsPreset } = toRefs(props)\n\n      if (!color.value) { return 'transparent' }\n\n      switch (buttonsPreset.value) {\n        case 'default':\n          return getColor(color.value)\n        case undefined:\n        case 'primary':\n          return colorToRgba(getColor(color.value), 0.1)\n        default:\n          return 'transparent'\n      }\n    })\n\n    const inputStyleComputed = computed(() => ({\n      cursor: 'default',\n      color: getColor(props.color),\n      opacity: props.disabled ? 0.4 : 1,\n      borderColor: inputBorderColorComputed.value,\n    }))\n\n    watch([usesTotal, () => props.pages], () => {\n      if (__DEV__ && usesTotal.value && props.pages) {\n        throw new Error('Please, use either `total` and `page-size` props, or `pages`.')\n      }\n    })\n\n    const inputAttributesComputed = computed(() => ({\n      disabled: props.disabled,\n      placeholder: `${currentValue.value}/${lastPage.value}`,\n    }))\n\n    const buttonPropsComputed = computed(() => ({\n      size: props.size,\n      preset: props.buttonsPreset,\n      color: props.color,\n      borderColor: props.borderColor,\n      round: props.rounded,\n    }))\n\n    const currentPageButtonProps = computed(() => ({\n      preset: props.buttonsPreset === 'default' ? 'primary' : 'default',\n      color: props.activePageColor || props.color,\n    }))\n\n    const getPageButtonProps = (n: number | '...') => {\n      if (!isNaN(+n) && n === currentValue.value) {\n        return Object.assign({}, buttonPropsComputed.value, currentPageButtonProps.value)\n      }\n\n      return buttonPropsComputed.value\n    }\n\n    const isStandAloneInput = computed(() => props.input && !props.boundaryLinks && !props.directionLinks)\n    const inputClassComputed = useBem('va-pagination__input', () => ({\n      sm: props.size === 'small' && isStandAloneInput.value,\n      md: props.size === 'medium' && isStandAloneInput.value,\n      lg: props.size === 'large' && isStandAloneInput.value,\n      auto: !isStandAloneInput.value,\n    }))\n\n    const classComputed = useBem('va-pagination', () => ({\n      ...pick(props, ['gapped', 'rounded', 'disabled']),\n      bordered: !!props.borderColor,\n    }))\n\n    const goNextPage = () => onUserInput(currentValue.value + 1)\n    const goPrevPage = () => onUserInput(currentValue.value - 1)\n\n    return {\n      ...useTranslation(),\n      getPageButtonProps,\n      inputClassComputed,\n      classComputed,\n      currentValue,\n      lastPage,\n      changeValue,\n      inputValue,\n      showPagination,\n      showBoundaryLinks,\n      onUserInput,\n      showDirectionLinks,\n      paginationRange,\n      focusInput,\n      inputStyleComputed,\n      inputAttributesComputed,\n      goNextPage,\n      goPrevPage,\n      buttonPropsComputed,\n      htmlInput,\n      setItemRefByIndex,\n    }\n  },\n})\n</script>\n\n<style lang='scss'>\n@import \"../../styles/resources\";\n@import \"variables\";\n\n.va-pagination {\n  display: flex;\n  font-family: var(--va-font-family);\n\n  &__input {\n    background: var(--va-pagination-input-background);\n    border-style: var(--va-pagination-input-border-style);\n    border-width: var(--va-pagination-input-border-width);\n    text-align: var(--va-pagination-input-text-align);\n    font-size: var(--va-pagination-input-font-size);\n    font-weight: normal;\n\n    // by default input's height relies on va-button size\n    &--sm {\n      height: var(--va-pagination-button-sm-size);\n    }\n\n    &--md {\n      height: var(--va-pagination-button-size);\n    }\n\n    &--lg {\n      height: var(--va-pagination-button-lg-size);\n    }\n\n    &--auto {\n      height: auto;\n    }\n  }\n\n  .va-button {\n    &.va-input {\n      cursor: default;\n    }\n\n    &--small {\n      height: var(--va-pagination-button-sm-size);\n      min-width: var(--va-pagination-button-sm-size);\n    }\n\n    &--normal {\n      height: var(--va-pagination-button-size);\n      min-width: var(--va-pagination-button-size);\n    }\n\n    &--large {\n      height: var(--va-pagination-button-lg-size);\n      min-width: var(--va-pagination-button-lg-size);\n    }\n\n    &--ellipsis {\n      cursor: default;\n      opacity: 1;\n\n      & > .va-button__content {\n        opacity: 0.4;\n      }\n    }\n\n    &:focus-visible {\n      outline-offset: -2px;\n\n      @include keyboard-focus-outline();\n    }\n  }\n\n  & > :not(:first-child):not(:last-child) {\n    border-radius: 0;\n  }\n\n  & > :first-child {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  & > :last-child {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n\n  &--gapped {\n    &.va-pagination > .va-button {\n      border-radius: var(--va-button-border-radius);\n      margin-right: var(--va-pagination-gap);\n      border-style: solid;\n\n      &:last-child {\n        margin-right: 0;\n      }\n    }\n  }\n\n  &--bordered {\n    &.va-pagination > .va-button {\n      border-style: solid;\n\n      &::before {\n        border-radius: unset;\n      }\n    }\n  }\n\n  &--rounded {\n    &.va-pagination > .va-button {\n      border-radius: 50%;\n\n      &::before {\n        border-radius: inherit;\n      }\n\n      &.va-button--small {\n        &.va-button--icon-only {\n          height: var(--va-pagination-button-sm-size);\n          width: var(--va-pagination-button-sm-size);\n        }\n\n        & .va-button__content {\n          padding-right: var(--va-button-sm-content-px);\n          padding-left: var(--va-button-sm-content-px);\n        }\n      }\n\n      &.va-button--normal {\n        &.va-button--icon-only {\n          height: var(--va-pagination-button-size);\n          width: var(--va-pagination-button-size);\n        }\n\n        & .va-button__content {\n          padding-right: var(--va-button-content-px);\n          padding-left: var(--va-button-content-px);\n        }\n      }\n\n      &.va-button--large {\n        &.va-button--icon-only {\n          height: var(--va-pagination-button-lg-size);\n          width: var(--va-pagination-button-lg-size);\n        }\n\n        & .va-button__content {\n          padding-right: var(--va-button-lg-content-px);\n          padding-left: var(--va-button-lg-content-px);\n        }\n      }\n    }\n  }\n}\n</style>\n"],"names":["clamp","pick","_openBlock","_createElementBlock","_normalizeClass","_withKeys","_withModifiers","_renderSlot","_createBlock","_mergeProps","_createCommentVNode","_Fragment","_renderList","_createTextVNode","_toDisplayString","_withDirectives","_normalizeProps"],"mappings":"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"}